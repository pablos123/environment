#!/usr/bin/env bash
set -Eeuo pipefail

source "${HOME}/environment/lib/print_functions.bash"

# --------------------------------------------------
# Screen dimming with redshift
# --------------------------------------------------

readonly DIM_COLOR_TEMP=4000
readonly DIM_BRIGHTNESS=0.6

command -v redshift >/dev/null || die "redshift not found"

if [[ "${1:-}" == "night" ]]; then
    redshift -O "${DIM_COLOR_TEMP}" -b "${DIM_BRIGHTNESS}" &>/dev/null
else
    redshift -x &>/dev/null
fi

notify-send "Brightness adjusted!"
